# ğŸ¯ ××“×¨×™×š ×¡×•×¤×™: ×§×‘×¦×™ ×”×ª×¨×’×•× ×”×¢×•×‘×“×™× ×‘-eScriptorium

## ×¡×§×™×¨×” ×›×œ×œ×™×ª - 4 ×× ×’× ×•× ×™ ×ª×¨×’×•× ×¤×¢×™×œ×™×

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser / User Interface                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Vue.js           â”‚    â”‚   Django HTML      â”‚          â”‚
â”‚  â”‚   Components       â”‚    â”‚   Templates        â”‚          â”‚
â”‚  â”‚                    â”‚    â”‚                    â”‚          â”‚
â”‚  â”‚   he.json          â”‚    â”‚   django.po/.mo    â”‚          â”‚
â”‚  â”‚   (465 ×ª×¨×’×•××™×)    â”‚    â”‚   (1100+ ×ª×¨×’×•××™×)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚           â†“                          â†“                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Middleware (HTML Post-Processing)         â”‚           â”‚
â”‚  â”‚   clean_biblia_middleware_v2.py             â”‚           â”‚
â”‚  â”‚   (×ª×¨×’×•× ×“×™× ××™ + RTL)                       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database (PostgreSQL)                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  BlockType, LineType, DocumentType                          â”‚
â”‚  â†‘                                                           â”‚
â”‚  typology_translations_he.py â†’ Migration                    â”‚
â”‚  (×©××•×ª ×¡×•×’×™ ××–×•×¨×™× ×•×©×•×¨×•×ª)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ×§×•×‘×¥ 1: `app/locale/he/LC_MESSAGES/django.po` + `django.mo`

### ğŸ“ ××™×§×•×:
```
app/locale/he/LC_MESSAGES/
â”œâ”€â”€ django.po   (×§×•×‘×¥ ××§×•×¨ - ×¢×¨×™×š ××ª ×–×”)
â””â”€â”€ django.mo   (×§×•×‘×¥ ××§×•××¤×œ - × ×•×¦×¨ ××•×˜×•××˜×™×ª)
```

### âœ… ××—×¨××™ ×¢×œ:
1. **×ª×‘× ×™×•×ª Django (Templates)**
   ```django
   {% trans "Save" %}  â†’ "×©××™×¨×”"
   {% trans "Delete" %} â†’ "××—×™×§×”"
   ```

2. **×”×•×“×¢×•×ª Python Backend**
   ```python
   from django.utils.translation import gettext as _
   _("Error occurred")  â†’ "××™×¨×¢×” ×©×’×™××”"
   ```

3. **×˜×¤×¡×™× (Forms)**
   ```python
   label = _("Document name")
   help_text = _("Enter the name")
   ```

4. **×”×•×“×¢×•×ª ××¢×¨×›×ª**
   - ×”×•×“×¢×•×ª ×©×’×™××”
   - ×”×•×“×¢×•×ª ×”×¦×œ×—×”
   - ×ª×™××•×¨×™×

### ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×”:
- **1100+ ×ª×¨×’×•××™×**
- ×›×™×¡×•×™: ~90% ××ª×‘× ×™×•×ª Django

### ğŸ”§ ××™×š ×œ×¢×“×›×Ÿ:
```bash
# 1. ×¢×¨×•×š ××ª django.po
nano app/locale/he/LC_MESSAGES/django.po

# 2. ×§××¤×œ
python manage.py compilemessages -l he

# 3. ×”×¢×ª×§ ×œ×§×•× ×˜×™×™× ×¨
docker cp app/locale/he/LC_MESSAGES/django.mo escriptorium_clean-web-1:/usr/src/app/locale/he/LC_MESSAGES/

# 4. ××ª×—×œ
docker-compose restart web
```

### âŒ ×œ× ××©×¤×™×¢ ×¢×œ:
- ×§×•××¤×•× × ×˜×•×ª Vue.js
- ×˜×™×¤×•×œ×•×’×™×•×ª ×‘××¡×“ × ×ª×•× ×™×
- HTML ×“×™× ××™ ×©× ×•×¦×¨ ×‘-JavaScript

---

## ğŸ“ ×§×•×‘×¥ 2: `app/apps/core/typology_translations_he.py`

### ğŸ“ ××™×§×•×:
```
app/apps/core/typology_translations_he.py
```

### âœ… ××—×¨××™ ×¢×œ:
**×¨×§ ×˜×™×¤×•×œ×•×’×™×•×ª ×‘××¡×“ ×”× ×ª×•× ×™×!**

1. **BlockType** - ×¡×•×’×™ ××–×•×¨×™×
   ```python
   "Title" â†’ "×›×•×ª×¨×ª"
   "Main" â†’ "×¢×™×§×¨×™"
   "header" â†’ "×›×•×ª×¨×ª ×¢×œ×™×•× ×”"
   "paragraph" â†’ "×¤×¡×§×”"
   ```

2. **LineType** - ×¡×•×’×™ ×©×•×¨×•×ª
   ```python
   "Correction" â†’ "×ª×™×§×•×Ÿ"
   "Numbering" â†’ "××¡×¤×•×¨"
   "Signature" â†’ "×—×ª×™××”"
   ```

3. **DocumentType** - ×¡×•×’×™ ××¡××›×™× (×× ×™×©)

4. **PartType** - ×¡×•×’×™ ×—×œ×§×™× (×× ×™×©)

### ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×”:
- **11 BlockType** - 100% ××ª×•×¨×’××™× âœ…
- **5 LineType** - 100% ××ª×•×¨×’××™× âœ…
- **×›×œ ×”×˜×™×¤×•×œ×•×’×™×•×ª ××›×•×¡×•×ª**

### ğŸ”§ ××™×š ×œ×¢×“×›×Ÿ:
```bash
# 1. ×¢×¨×•×š ××ª ×”×§×•×‘×¥
nano app/apps/core/typology_translations_he.py

# ×”×•×¡×£ ×ª×¨×’×•×:
TYPOLOGY_TRANSLATIONS_HE = {
    "new-type": "×¡×•×’ ×—×“×©",
}

# 2. ×”×¢×ª×§ ×œ×§×•× ×˜×™×™× ×¨
docker cp app/apps/core/typology_translations_he.py escriptorium_clean-web-1:/usr/src/app/apps/core/

# 3. ×¢×“×›×Ÿ ××¡×“ × ×ª×•× ×™×
docker exec escriptorium_clean-web-1 python -c "
import django, os
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'escriptorium.settings')
django.setup()
from core.models import BlockType
BlockType.objects.filter(name='new-type').update(name_he='×¡×•×’ ×—×“×©')
"
```

### âŒ ×œ× ××©×¤×™×¢ ×¢×œ:
- ×›×¤×ª×•×¨×™× ×‘×××©×§
- ×ª×¤×¨×™×˜×™×
- Vue components
- ×›×œ ×“×‘×¨ ×©××™× ×• ×˜×™×¤×•×œ×•×’×™×”

### âš ï¸ ×—×©×•×‘!
×–×” **×œ×** ××™×œ×•×Ÿ ×›×œ×œ×™! ×¨×§ ×©××•×ª ×©×œ:
- BlockType
- LineType
- DocumentType
- PartType

---

## ğŸ“ ×§×•×‘×¥ 3: `app/clean_biblia_middleware_v2.py`

### ğŸ“ ××™×§×•×:
```
app/clean_biblia_middleware_v2.py
```

### âœ… ××—×¨××™ ×¢×œ:
**HTML ×©××’×™×¢ ×-Django ××—×¨×™ ×¨×™× ×“×•×¨**

1. **×ª×¨×’×•× HTML ×“×™× ××™**
   - ××—×¤×© ××—×¨×•×–×•×ª ×× ×’×œ×™×•×ª ×‘-HTML
   - ××—×œ×™×£ ××•×ª×Ÿ ×‘×¢×‘×¨×™×ª ×œ×¤×™ `translation_map`

2. **×ª××™×›×” RTL**
   - ××•×¡×™×£ CSS: `direction: rtl; text-align: right`
   - ×¨×§ ×œ×¢×‘×¨×™×ª ×•×¢×¨×‘×™×ª

3. **×ª×¨×’×•× ×‘×˜×•×—**
   - ××©×ª××© ×‘-BeautifulSoup
   - ××“×œ×’ ×¢×œ `<script>` ×•-`<style>`
   - ×©×•××¨ ×¢×œ JSON ×•-data attributes

### ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×”:
- **××™×œ×•×Ÿ ×ª×¨×’×•××™× ×§×˜×Ÿ** ×‘×ª×•×š ×”×§×•×“
- ××©××© ×›-**fallback** ×œ×ª×¨×’×•××™× ×©×—×¡×¨×™×

### ğŸ”§ ××™×š ×œ×¢×“×›×Ÿ:
```python
# ×‘×ª×•×š clean_biblia_middleware_v2.py
self.translation_map = {
    'Documents': '××¡××›×™×',
    'Projects': '×¤×¨×•×™×™×§×˜×™×',
    'manual': '×™×“× ×™',
    # ×”×•×¡×£ ×›××Ÿ...
}
```

```bash
# ×”×¢×ª×§ ×œ×§×•× ×˜×™×™× ×¨
docker cp app/clean_biblia_middleware_v2.py escriptorium_clean-web-1:/usr/src/app/

# ××ª×—×œ
docker-compose restart web
```

### âŒ ×œ× ××©×¤×™×¢ ×¢×œ:
- ×ª×•×›×Ÿ `<script>` ×•-`<style>`
- Vue components (Vue ××¨× ×“×¨ ××—×¨×™ ×”-middleware)
- JSON responses ×-API

### âš ï¸ ×”×¢×¨×”:
×¨×•×‘ ×”×ª×¨×’×•××™× ×¦×¨×™×›×™× ×œ×”×™×•×ª ×‘-`django.po`, ×œ× ×›××Ÿ!
×”×§×•×‘×¥ ×”×–×” ×”×•× ×¨×§ fallback.

---

## ğŸ“ ×§×•×‘×¥ 4: `front/vue/locales/he.json`

### ğŸ“ ××™×§×•×:
```
front/vue/locales/he.json
```

### âœ… ××—×¨××™ ×¢×œ:
**388 ×§×•××¤×•× × ×˜×•×ª Vue.js**

1. **××¤×œ×™×§×¦×™×™×ª ×”×¢×¨×™×›×”**
   ```javascript
   $t('Background Color')  â†’ "×¦×‘×¢ ×¨×§×¢"
   $t('Rectangle')         â†’ "××œ×‘×Ÿ"
   $t('Zoom In')           â†’ "×”×’×“×œ×”"
   ```

2. **×¨×©×™××ª ×¤×¨×•×™×™×§×˜×™×**
   ```javascript
   $t('Welcome back')      â†’ "×‘×¨×•×š ×©×•×‘×š"
   $t('Create New')        â†’ "×¦×•×¨ ×—×“×©"
   ```

3. **×××©×§ Vue ×›×œ×œ×™**
   - ×›×¤×ª×•×¨×™×
   - ×ª×¤×¨×™×˜×™×
   - ×”×•×“×¢×•×ª

### ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×”:
- **465 ×ª×¨×’×•××™× ××•×’×“×¨×™×**
- **178 ×‘×©×™××•×© ×‘×¤×•×¢×œ**
- **116 ×—×¡×¨×™×** (65% gap)

### ğŸ”§ ××™×š ×œ×¢×“×›×Ÿ:
```bash
# 1. ×¢×¨×•×š ××ª he.json
nano front/vue/locales/he.json

# ×”×•×¡×£ ×ª×¨×’×•×:
{
  "Zoom In": "×”×’×“×œ×”",
  "Zoom Out": "×”×§×˜× ×”"
}

# 2. ×‘× ×” ××—×“×© ××ª Vue
cd front
npm run build

# 3. ×”×¢×ª×§ dist/ ×œ×§×•× ×˜×™×™× ×¨
docker cp front/dist/ escriptorium_clean-web-1:/usr/src/app/front/

# 4. ×¨×¢× ×Ÿ ×“×¤×“×¤×Ÿ (Ctrl+F5)
```

### âŒ ×œ× ××©×¤×™×¢ ×¢×œ:
- ×ª×‘× ×™×•×ª Django
- ×˜×™×¤×•×œ×•×’×™×•×ª
- Python backend

### âš ï¸ ×‘×¢×™×” × ×•×›×—×™×ª:
**116 ×ª×¨×’×•××™× ×—×¡×¨×™×** - ×¨××” `vue_missing_translations.json`

---

## ğŸ“Š ×˜×‘×œ×ª ×”×©×•×•××” - ××” ××ª×¨×’× ××”?

| ×¡×•×’ ×ª×•×›×Ÿ | django.po | typology_*.py | middleware | he.json |
|----------|-----------|---------------|------------|---------|
| **×›×¤×ª×•×¨×™ Django** (Save, Delete) | âœ… | âŒ | ğŸŸ¡ fallback | âŒ |
| **×›×¤×ª×•×¨×™ Vue** (Zoom, Rotate) | âŒ | âŒ | âŒ | âœ… |
| **×ª×¤×¨×™×˜×™ Vue** (File, Edit) | âŒ | âŒ | âŒ | âœ… (×—×¡×¨) |
| **×¡×•×’×™ ××–×•×¨×™×** (Title, Main) | âŒ | âœ… | âŒ | âŒ |
| **×¡×•×’×™ ×©×•×¨×•×ª** (Correction) | âŒ | âœ… | âŒ | âŒ |
| **×”×•×“×¢×•×ª Python** | âœ… | âŒ | âŒ | âŒ |
| **×ª×‘× ×™×•×ª HTML** | âœ… | âŒ | ğŸŸ¡ fallback | âŒ |
| **×ª××™×›×” RTL** | âŒ | âŒ | âœ… | âœ… |

### ××§×¨×:
- âœ… = ××—×¨××™ ×¨××©×™
- ğŸŸ¡ = fallback/×’×™×‘×•×™
- âŒ = ×œ× ×¨×œ×•×•× ×˜×™

---

## ğŸ”„ ×–×¨×™××ª ×ª×¨×’×•× ×œ×¤×™ ×ª×¨×—×™×©

### ×ª×¨×—×™×© 1: ××©×ª××© ×¨×•××” ×›×¤×ª×•×¨ "Save" ×‘×˜×•×¤×¡ Django
```
1. Django ×¨×•× ×“×¨ template
2. {% trans "Save" %} â†’ ××—×¤×© ×‘-django.mo â†’ "×©××™×¨×”"
3. HTML ×™×•×¦×: <button>×©××™×¨×”</button>
4. Middleware ××•×¡×™×£ RTL CSS
5. ××©×ª××© ×¨×•××”: "×©××™×¨×”" (RTL)
```

### ×ª×¨×—×™×© 2: ××©×ª××© ×¨×•××” ×¨×©×™××ª ×¡×•×’×™ ××–×•×¨×™×
```
1. Django ×©×•×œ×£ ×-DB: BlockType.objects.all()
2. ×‘×©×“×” name_he: "×›×•×ª×¨×ª", "×¢×™×§×¨×™", "×¤×¡×§×”"
3. Template ××¦×™×’: {{ block_type.name_he }}
4. ××©×ª××© ×¨×•××” ×¨×©×™××” ×‘×¢×‘×¨×™×ª
```

### ×ª×¨×—×™×© 3: ××©×ª××© ×œ×•×—×¥ ×¢×œ ×›×¤×ª×•×¨ "Zoom In" ×‘×¢×•×¨×š
```
1. Vue component: <button>{{ $t('Zoom In') }}</button>
2. Vue ××—×¤×© ×‘-he.json: "Zoom In"
3. âŒ ×œ× × ××¦×! (×—×¡×¨ ×‘-he.json)
4. Fallback ×œ-window.EDITOR_TRANSLATIONS
5. âŒ ×’× ×©× ×œ× × ××¦×!
6. ××©×ª××© ×¨×•××”: "Zoom In" (×× ×’×œ×™×ª ğŸ˜¢)
```

---

## ğŸ¯ ×¡×™×›×•×: ××” ×œ×¢×©×•×ª ×¢×›×©×™×•?

### âœ… ×¢×•×‘×“ ××¦×•×™×Ÿ:
1. âœ… `django.po` - 1100+ ×ª×¨×’×•××™×, ×›×™×¡×•×™ 90%
2. âœ… `typology_translations_he.py` - 100% ×˜×™×¤×•×œ×•×’×™×•×ª
3. âœ… `clean_biblia_middleware_v2.py` - RTL ×¢×•×‘×“

### âš ï¸ ×“×•×¨×© ×ª×©×•××ª ×œ×‘:
4. âš ï¸ `he.json` - ×—×¡×¨×™× 116 ×ª×¨×’×•××™× (65%)
   - **×¤×ª×¨×•×Ÿ**: ×”×•×¡×£ ×ª×¨×’×•××™× ×-`vue_missing_translations.json`

### ğŸ“‹ ×¨×©×™××ª ××©×™××•×ª ××•××œ×¦×ª:
1. [ ] ×”×©×œ× ××ª 116 ×”×ª×¨×’×•××™× ×”×—×¡×¨×™× ×‘-`he.json`
2. [ ] × ×§×” ×ª×¨×’×•××™× ××™×•×ª×¨×™× (287 ×ª×¨×’×•××™× ×©×œ× ×‘×©×™××•×©)
3. [ ] ×‘×“×•×§ ×× `window.EDITOR_TRANSLATIONS` ×¢×“×™×™×Ÿ × ×—×•×¥
4. [ ] ×”×•×¡×£ ×ª×¨×’×•××™× ×—×“×©×™× ×œ-`django.po` ×œ×¤×™ ×¦×•×¨×š

---

## ğŸ“ ×§×‘×¦×™× ×œ×¢×§×•×‘ ××—×¨×™×”×

### ×§×‘×¦×™ ×ª×¨×’×•× ×¤×¢×™×œ×™×:
- âœ… `app/locale/he/LC_MESSAGES/django.po` (Django)
- âœ… `app/locale/he/LC_MESSAGES/django.mo` (×§×•××¤×™×œ×¦×™×”)
- âœ… `app/apps/core/typology_translations_he.py` (×˜×™×¤×•×œ×•×’×™×•×ª)
- âœ… `app/clean_biblia_middleware_v2.py` (HTML + RTL)
- âš ï¸ `front/vue/locales/he.json` (Vue - ×—×¡×¨×™× ×ª×¨×’×•××™×)

### ×§×‘×¦×™× ×©×œ× ×‘×©×™××•×©:
- âŒ `app/biblia_translation_middleware.py` (×™×©×Ÿ)
- âŒ `app/enhanced_biblia_middleware.py` (×™×©×Ÿ)
- âŒ `app/biblia_translation_processor.py` (×œ× ×¤×¢×™×œ)

---

**×¢×•×“×›×Ÿ:** 23 ×‘××•×§×˜×•×‘×¨ 2025
**×¡×˜×˜×•×¡:** ××¢×¨×›×ª ×ª×¨×’×•× ×¤×¢×™×œ×” ×¢× 116 ×ª×¨×’×•××™× ×—×¡×¨×™× ×‘-Vue
